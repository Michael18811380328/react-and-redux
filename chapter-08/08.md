## 第八章 单元测试

### 基本概念

单元测试：需要保证一定的测试覆盖率；代码改动后，单元测试要能运行通过；

测试驱动开发（TDD）可能单元测试很多时，工作量会大大增加；尤其是产品需求经常变化时，代码改动和测试的改动，苦不堪言。

如果是工具函数或者固定组件，单元测试最好覆盖多一些；如果是具体业务组件，需求经常变化，单元测试可以不需要那么多。

单元测试是开发者的工具，而不是包袱；不是为了写单元测试，才写单元测试。

写程序不能依赖单元测试；单元测试100%通过，也不一定表示代码没问题。

单元测试最好测试纯函数，如果是复杂组件依赖与 props 和多种状态，那么测试就比较复杂了。

### 常用测试工具

单元测试工具：Mocha 和 Jest 工具。

文件架构：可以在根目录下面放一个 test 的文件夹（leetcode项目）；可以在不同业务逻辑下面，分别放一个 test 目录（dtable-web项目）；根据功能代码的结构，确定单元测试的层级结构。

### 常用辅助工具

enzyme 测试组件：shallow mount render 三种不同的模式

sinon

redux-mock-store

这里的辅助库满天飞，根据实际需求确定

### redux 单元测试

action 测试

Reducer 测试

